<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦™æ¸¯æ‰“å·¥ä½“éªŒæŠ¥å‘Š HK-R v5.1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+HK:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans HK', sans-serif; background-color: #f3f4f6; }
        .gradient-bg { background: linear-gradient(180deg, #e0f2fe 0%, #ffffff 100%); }
        .score-text { color: #1e3a8a; } 
        /* ç®€å•çš„æ·¡å…¥æ·¡å‡ºåŠ¨ç”» */
        .fade-enter-active, .fade-leave-active { transition: opacity 0.3s ease; }
        .fade-enter-from, .fade-leave-to { opacity: 0; }
        /* éšè—æ»šåŠ¨æ¡ä½†ä¿ç•™åŠŸèƒ½ */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="pb-20 min-h-screen bg-slate-50">

<div id="app" class="max-w-2xl mx-auto p-4">

    <transition name="fade" mode="out-in">
        <div v-if="showWelcome" key="welcome" class="flex flex-col items-center justify-center min-h-[90vh] py-6">
            
            <div class="mb-4 text-6xl">ğŸ‡­ğŸ‡°</div>
            
            <h1 class="text-4xl font-black text-blue-900 mb-2 text-center tracking-tight">
                é¦™æ¸¯æ‰“å·¥<br><span class="text-blue-600">ä½“éªŒ</span>æŠ¥å‘Š
            </h1>
            <p class="text-gray-500 text-xs mb-8 tracking-widest uppercase">HK Work Experience Report (v5.1)</p>

            <div class="bg-white p-5 rounded-2xl shadow-xl w-full border border-gray-100 mb-6">
                
                <h3 class="font-bold text-gray-800 mb-3 text-sm flex items-center">
                    <span class="bg-blue-100 text-blue-600 py-0.5 px-2 rounded text-xs mr-2">Core</span>
                    ç»ˆææ€§ä»·æ¯”å…¬å¼
                </h3>
                
                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200 overflow-x-auto no-scrollbar mb-6">
                    <div class="min-w-[300px] flex items-center justify-center font-serif text-gray-700">
                        <span class="font-bold text-xl mr-3 italic font-serif">R =</span>
                        <div class="flex flex-col items-center text-[10px] md:text-xs leading-relaxed">
                            <div class="border-b-2 border-gray-400 px-2 pb-1 mb-1 font-semibold text-blue-700 whitespace-nowrap">
                                æ—¥è–ª Ã— è¡Œä¸š Ã— æ¶¦å­¦ Ã— WFHåŠ æˆ Ã— ç¯å¢ƒçˆ½åº¦
                            </div>
                            <div class="font-semibold text-red-700 whitespace-nowrap">
                                å¹´é¾„ Ã— [ å·¥æ—¶ + é€šå‹¤ç—›è‹¦ - (0.5Ã—è›‡ç‹æ—¶é•¿) ] Ã— æˆ¿ç§Ÿç—›æ„Ÿ Ã— å­¦å†æº¢ä»·
                            </div>
                        </div>
                    </div>
                </div>

                <h3 class="font-bold text-gray-800 mb-3 text-sm flex items-center">
                    <span class="bg-purple-100 text-purple-600 py-0.5 px-2 rounded text-xs mr-2">Scale</span>
                    Rå€¼è¯„çº§æ ‡å‡†
                </h3>
                
                <div class="grid grid-cols-2 gap-3">
                    <div class="bg-gray-100 p-3 rounded-lg border border-gray-200">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-lg">ğŸ’€</span>
                            <span class="text-xs font-black bg-black text-white px-1.5 rounded">R &lt; 3.3</span>
                        </div>
                        <div class="text-xs font-bold text-gray-700">åœ°ç‹±ç”Ÿå­˜çº¿</div>
                        <div class="text-[9px] text-gray-500 mt-0.5">è´Ÿèµ„äº§æ‰“å·¥ï¼Œå»ºè®®å¿«é€ƒ</div>
                    </div>
                    <div class="bg-gray-50 p-3 rounded-lg border border-gray-200">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-lg">ğŸ˜</span>
                            <span class="text-xs font-bold bg-gray-400 text-white px-1.5 rounded">3.3 - 6.0</span>
                        </div>
                        <div class="text-xs font-bold text-gray-600">æ ‡å‡†æ¸¯ç•œçº¿</div>
                        <div class="text-[9px] text-gray-500 mt-0.5">æ‰‹åœå£åœï¼Œæ— æƒŠæ— é™©</div>
                    </div>
                    <div class="bg-blue-50 p-3 rounded-lg border border-blue-100">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-lg">â˜•</span>
                            <span class="text-xs font-bold bg-blue-500 text-white px-1.5 rounded">6.0 - 10.5</span>
                        </div>
                        <div class="text-xs font-bold text-blue-700">èˆ’é€‚ä¸­äº§çº¿</div>
                        <div class="text-[9px] text-blue-400 mt-0.5">ç”Ÿæ´»æœ‰å¾—æ‹£ï¼Œå‡æœŸæœ‰å¾—é£</div>
                    </div>
                    <div class="bg-purple-50 p-3 rounded-lg border border-purple-100">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-lg">ğŸ¦„</span>
                            <span class="text-xs font-bold bg-purple-600 text-white px-1.5 rounded">&gt; 10.5</span>
                        </div>
                        <div class="text-xs font-bold text-purple-700">ç¥ä»™å·¥</div>
                        <div class="text-[9px] text-purple-400 mt-0.5">ç³»ç»Ÿæ¼æ´ï¼Œç»å¯¹æœºå¯†</div>
                    </div>
                </div>

            </div>

            <button 
                @click="startTest" 
                class="w-full max-w-sm bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-xl text-xl shadow-lg transform transition hover:scale-105 active:scale-95 flex items-center justify-center">
                <span>ç«‹å³å¼€å§‹æµ‹è¯„</span>
                <span class="ml-2">ğŸš€</span>
            </button>
            
            <p class="mt-6 text-xs text-gray-400">Powered by HK-R Algorithm</p>
        </div>

        <div v-else key="calculator">
            
            <div class="flex items-center mb-6 pt-2">
                <button @click="showWelcome = true" class="text-gray-400 hover:text-gray-600 text-sm flex items-center">
                    <span class="mr-1">â†</span> è¿”å›é¦–é¡µ
                </button>
            </div>

            <div class="text-center mb-8">
                <h1 class="text-3xl font-black text-blue-900 mb-2">æ•°æ®å½•å…¥</h1>
                <p class="text-gray-500 text-sm">è¯·è¾“å…¥ä½ çš„çœŸå®èŒåœºå‚æ•°</p>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-6 mb-8 space-y-6">
                
                <div class="border-b pb-4">
                    <h2 class="text-xl font-bold text-blue-800 mb-4">ğŸ’° åˆ†å­ï¼šæ”¶ç›Šä¸åŠ æˆ</h2>
                    <div class="grid grid-cols-2 gap-4 mb-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">æœˆè–ª (HKD)</label>
                            <input v-model.number="form.salary" type="number" class="w-full border rounded p-2 mt-1" placeholder="20000">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">å¹´è–ªæœˆæ•°</label>
                            <input v-model.number="form.months" type="number" class="w-full border rounded p-2 mt-1" placeholder="12">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">å¹´åº¦å›ºå®šæ´¥è´´ (Bonus/Allowance)</label>
                        <input v-model.number="form.allowance" type="number" class="w-full border rounded p-2 mt-1" placeholder="0">
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">è¡Œä¸š (Industry Caste)</label>
                        <select v-model="form.industry" class="w-full border rounded p-2 mt-1">
                            <option value="1.3">Tier 0: åŒ»ç”Ÿ/AO/EO/å…¬è¥æœºæ„ (1.3)</option>
                            <option value="1.2">Tier 1: æŠ•è¡Œ/Hedge Fund/é¡¶çº§å¾‹æ‰€ (1.2)</option>
                            <option value="1.1">Tier 2: IT/MNC/é“¶è¡Œä¸­åå° (1.1)</option>
                            <option value="1.0">Tier 3: æ™®é€šæ–‡èŒ/æ•™è‚²/ä¼ åª’ (1.0)</option>
                            <option value="0.9">Tier 4: é¤é¥®/é›¶å”®/åŠ³åŠ¨å¯†é›† (0.9)</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">æ¶¦å­¦/è·³æ¿å±æ€§</label>
                        <select v-model="form.migration" class="w-full border rounded p-2 mt-1">
                            <option value="1.2">é‡‘è·³æ¿: åŒ…Global Transfer (1.2)</option>
                            <option value="1.1">é•€é‡‘: çŸ¥åå¤–ä¼ï¼Œå±¥å†è®¤å¯é«˜ (1.1)</option>
                            <option value="1.0">æœ¬åœ°: çº¯æ¸¯èµ„/ä¸­èµ„ä¸­å°ä¼ (1.0)</option>
                            <option value="0.9">é”æ­»: æœ‰Bondæˆ–è¡Œä¸šæ•æ„Ÿ (0.9)</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">WFH è‡ªç”±åº¦</label>
                        <select v-model="form.wfh" class="w-full border rounded p-2 mt-1">
                            <option value="1.3">å¤©å ‚: Fully Remote / æ•°å­—æ¸¸æ°‘ (1.3)</option>
                            <option value="1.2">çˆ½: æ¯å‘¨ 3-4 å¤© (1.2)</option>
                            <option value="1.1">æ©èµ: æ¯å‘¨ 1-2 å¤© (1.1)</option>
                            <option value="1.0">åç‰¢: Full Office (1.0)</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">ç¯å¢ƒä¸å¼€å¿ƒæŒ‡æ•° (Vibe Check)</label>
                        <select v-model="form.vibeScore" class="w-full border rounded p-2 mt-1">
                            <option value="1.2">1.2 (æçˆ½): ä¸­ç¯/ICC + å¤–ä¼æ°›å›´</option>
                            <option value="1.1">1.1 (èˆ’é€‚): åœ°æ®µå¥½ æˆ– T8ä¸ç”¨åŠå…¬</option>
                            <option value="1.0">1.0 (æ ‡å‡†): æ™®é€šå†™å­—æ¥¼ / æ— åŠŸæ— è¿‡</option>
                            <option value="0.95">0.95 (ç•¥å·®): æ—§å·¥ä¸šåŒº æˆ– æ¸¯å¼å®¶æ—ç®¡ç†</option>
                            <option value="0.9">0.9 (å‹æŠ‘): ä½ç½®å·® + æ–‡åŒ–å‹æŠ‘ + T8è¦WFH</option>
                        </select>
                    </div>
                </div>

                <div>
                    <h2 class="text-xl font-bold text-red-800 mb-4">ğŸ’€ åˆ†æ¯ï¼šæˆæœ¬ä¸æ¶ˆè€—</h2>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">å¹´é¾„ (Age)</label>
                        <input v-model.number="form.age" type="number" class="w-full border rounded p-2 mt-1">
                    </div>
                    <div class="grid grid-cols-2 gap-4 mb-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">ä¸Šç­æ—¶é—´</label>
                            <input v-model="form.startTime" type="time" class="w-full border rounded p-2 mt-1">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">ä¸‹ç­æ—¶é—´</label>
                            <input v-model="form.endTime" type="time" class="w-full border rounded p-2 mt-1">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">åˆä¼‘æ—¶é•¿ (å°æ—¶)</label>
                        <input v-model.number="form.lunchHour" type="number" step="0.5" class="w-full border rounded p-2 mt-1">
                    </div>
                    <div class="mb-3">
                        <label class="inline-flex items-center text-sm text-red-600">
                            <input type="checkbox" v-model="form.isLateOT" class="mr-2"> å¸¸æ€åŒ–æ— å¿OTè‡³21:00å (æ—¶é•¿x1.1)
                        </label>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">å•ç¨‹é—¨å¯¹é—¨æ—¶é—´ (åˆ†é’Ÿ)</label>
                        <input v-model.number="form.commuteSingle" type="number" class="w-full border rounded p-2 mt-1">
                    </div>
                    <div class="mb-3">
                        <label class="inline-flex items-center text-sm text-red-600">
                            <input type="checkbox" v-model="form.isCrossHarborPain" class="mr-2"> è¿‡æµ·/æ‹¥æŒ¤/æ— çš„å£«æŠ¥é”€ (+0.5hç—›æ„Ÿ)
                        </label>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">æ¯æ—¥æ‘¸é±¼æ€»æ—¶é•¿ (åˆ†é’Ÿ)</label>
                        <input v-model.number="form.slackMinutes" type="number" class="w-full border rounded p-2 mt-1">
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">æˆ¿ç§Ÿç—›æ„Ÿç³»æ•°</label>
                        <select v-model="form.rentFactor" class="w-full border rounded p-2 mt-1">
                            <option value="1.0">1.0 (æ— ç—›): ä½å®¶/åŒ…ä½/è‡ªç½®</option>
                            <option value="1.1">1.1 (èˆ’é€‚): æˆ¿ç§Ÿ < 20%</option>
                            <option value="1.3">1.3 (ç´§å‡‘): æˆ¿ç§Ÿ 20%-35%</option>
                            <option value="1.6">1.6 (çª’æ¯): æˆ¿ç§Ÿ > 35%</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">å­¦å†æº¢ä»· (Education Tax)</label>
                        <select v-model="form.eduFactor" class="w-full border rounded p-2 mt-1">
                            <option value="0.9">0.9: å‰¯å­¦å£«/HD</option>
                            <option value="1.0">1.0: æ™®é€šæœ¬ç§‘/éåæ ¡æµ·å½’</option>
                            <option value="1.1">1.1: æ¸¯ä¸‰/ç¡•å£«</option>
                            <option value="1.2">1.2: å…¨çƒTop 30</option>
                            <option value="1.3">1.3: åšå£« PhD</option>
                        </select>
                    </div>
                </div>

                <button @click="generateImage" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg text-lg transition duration-300 shadow-md">
                    ğŸ“¸ ç”Ÿæˆç»“æœå¡ç‰‡ (ä¿å­˜å›¾ç‰‡)
                </button>
            </div>

            <div class="flex justify-center">
                <div id="result-card" class="relative w-[375px] h-[667px] bg-white overflow-hidden shadow-2xl" style="font-family: Arial, Helvetica, sans-serif;">
                    
                    <div class="absolute top-0 left-0 w-full h-2 bg-red-600 z-20"></div>
                    <div class="absolute inset-0 h-full w-full gradient-bg opacity-30 z-0"></div>
                    
                    <div class="relative z-10 p-5 flex flex-col h-full justify-between">
                        <div class="text-center mt-3">
                            <h3 class="text-[10px] tracking-widest text-gray-500 uppercase font-bold" style="letter-spacing: 0.15em;">HK WORK EXPERIENCE REPORT</h3>
                            <h1 class="text-3xl font-black text-blue-900 mt-1 tracking-tight" style="font-weight: 900;">é¦™æ¸¯æ‰“å·¥ä½“éªŒæŠ¥å‘Š</h1>
                        </div>

                        <div class="text-center mt-2 mb-8">
                            <div class="text-gray-500 text-xs mb-1">æ‚¨çš„æ€§ä»·æ¯” R å€¼</div>
                            <div class="text-[80px] font-black score-text leading-[0.9] tracking-tighter" style="font-weight: 900;">
                                {{ finalScore }}
                            </div>
                        </div>

                        <div class="text-center mb-4">
                            <div class="text-2xl font-black tracking-wider" :class="textColor">
                                ã€Œ {{ ratingTitle }} ã€
                            </div>
                            <p class="text-gray-600 text-xs mt-2 px-2 italic font-medium">
                                "{{ ratingQuote }}"
                            </p>
                        </div>

                        <div class="bg-white/60 backdrop-blur-sm rounded-lg border border-gray-100 p-3 text-xs">
                            <div class="flex justify-between border-b border-gray-200 pb-1 mb-1">
                                <span class="text-gray-500">ç»¼åˆæ—¥è–ª</span>
                                <span class="font-bold">HK$ {{ dailyPay.toFixed(0) }}</span>
                            </div>
                            <div class="flex justify-between border-b border-gray-200 pb-1 mb-1">
                                <span class="text-gray-500">å®é™…å·¥æ—¶</span>
                                <span class="font-bold">{{ actualWorkHours.toFixed(1) }} hrs</span>
                            </div>
                            <div class="flex justify-between border-b border-gray-200 pb-1 mb-1">
                                <span class="text-gray-500">é€šå‹¤ç—›æ„Ÿ</span>
                                <span class="font-bold">{{ (commuteHours * form.commuteSingle * 2 / 60).toFixed(1) }} hrs</span> </div>
                            <div class="flex justify-between">
                                <span class="text-gray-500">æˆ¿ç§Ÿ/å­¦å†ç³»æ•°</span>
                                <span class="font-bold">{{ form.rentFactor }} / {{ form.eduFactor }}</span>
                            </div>
                        </div>

                        <div class="mt-3 bg-blue-50 p-3 rounded-lg border-l-4 border-blue-600 flex-grow flex flex-col justify-center">
                            <h4 class="font-bold text-blue-900 text-xs mb-2">ğŸ’¡ ä¸“å®¶è¯Šæ–­æŠ¥å‘Š</h4>
                            <p class="text-[11px] text-blue-800 leading-relaxed text-justify opacity-90 mb-2">
                                {{ ratingPortrait }}
                            </p>
                            <p class="text-[11px] text-blue-800 leading-relaxed text-justify opacity-90">
                                {{ ratingAdvice }}
                            </p>
                        </div>

                        <div class="flex items-end justify-between mt-3 pt-2 border-t border-gray-200">
                            <div class="text-left pb-1">
                                <div class="text-[10px] text-gray-500 font-bold">HK-R v5.1 Algorithm</div>
                                <div class="text-[9px] text-gray-400">æ‰«ç æµ‹æµ‹ä½ çš„å·¥ä½œæ€§ä»·æ¯”</div>
                            </div>
                            <div class="bg-white p-1 rounded shadow-sm">
                                <img :src="qrImageUrl" class="w-14 h-14" alt="QR Code">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-4 text-gray-400 text-xs pb-10">
                æˆªå›¾ä»¥ä¸ŠåŒºåŸŸæˆ–ç‚¹å‡»æŒ‰é’®ä¿å­˜å›¾ç‰‡
            </div>
        </div>
    </transition>

</div>

<script>
    const { createApp, computed, reactive, ref } = Vue;

    createApp({
        setup() {
            const showWelcome = ref(true);
            const siteUrl = "https://www.google.com"; 

            const form = reactive({
                salary: 20000,
                months: 12,
                allowance: 0,
                industry: "1.0",
                migration: "1.0",
                wfh: "1.0",
                vibeScore: "1.0",
                age: 25,
                startTime: "09:00",
                endTime: "18:00",
                lunchHour: 1,
                isLateOT: false,
                commuteSingle: 45, 
                isCrossHarborPain: false,
                slackMinutes: 30,
                rentFactor: "1.3",
                eduFactor: "1.0"
            });

            const startTest = () => {
                showWelcome.value = false;
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const dailyPay = computed(() => {
                const annualPackage = (form.salary * form.months) + form.allowance;
                return annualPackage / 261;
            });

            const actualWorkHours = computed(() => {
                const start = new Date(`2000-01-01T${form.startTime}`);
                const end = new Date(`2000-01-01T${form.endTime}`);
                let diff = (end - start) / 1000 / 60 / 60; 
                if (diff < 0) diff += 24; 
                let netWork = diff - form.lunchHour;
                if (form.isLateOT) netWork = netWork * 1.1;
                return Math.max(0.1, netWork);
            });

            const commuteHours = computed(() => {
                let hours = (form.commuteSingle * 2) / 60;
                if (form.isCrossHarborPain) hours += 0.5;
                return hours;
            });

            const slackHours = computed(() => form.slackMinutes / 60);

            const finalScore = computed(() => {
                const numerator = dailyPay.value * Number(form.industry) * Number(form.migration) * Number(form.wfh) * Number(form.vibeScore);
                const timeCost = actualWorkHours.value + commuteHours.value - (0.5 * slackHours.value);
                const safeTimeCost = Math.max(1, timeCost); 
                const denominator = form.age * safeTimeCost * Number(form.rentFactor) * Number(form.eduFactor);

                if (denominator === 0) return 0;
                return (numerator / denominator).toFixed(2);
            });

            const ratingInfo = computed(() => {
                const r = parseFloat(finalScore.value);
                if (r < 3.3) {
                    return {
                        title: "åœ°ç‹±ç”Ÿå­˜çº¿ ğŸ’€",
                        textColor: "text-black",
                        quote: "æˆ‘åœ¨äººé—´å‡‘æ•°çš„ä¸€å¤©...",
                        portrait: "ğŸ“Š ç”»åƒï¼šæˆ¿ç§Ÿå‹åŠ›å¤§ï¼Œæ— WFHï¼Œé€šå‹¤è¿œï¼Œæˆ–è¡Œä¸šå¤„äºé„™è§†é“¾åº•ç«¯ã€‚æ ‡å‡†çš„è´Ÿèµ„äº§æ‰“å·¥ã€‚",
                        advice: "âš ï¸ å»ºè®®ï¼šé™¤éä¸ºäº†æ¢å–Tier 0çº§çš„è·³æ¿å±¥å†ï¼Œå¦åˆ™è¯·ç«‹åˆ»è·‘è·¯ã€‚"
                    };
                } else if (r < 6.0) {
                    return {
                        title: "æ ‡å‡†æ¸¯ç•œçº¿ ğŸ˜",
                        textColor: "text-gray-600",
                        quote: "æ‰‹åœå£åœï¼Œæ— æƒŠæ— é™©ã€‚",
                        portrait: "ğŸ“Š ç”»åƒï¼šé¦™æ¸¯60%æ‰“å·¥äººçš„çœŸå®çŠ¶æ€ã€‚æœˆè–ªå°šå¯ï¼Œä½†å­˜ä¸ä¸‹å¤§é’±ï¼Œä¸æ•¢è£¸è¾ã€‚",
                        advice: "ğŸ”„ å»ºè®®ï¼šå¿…é¡»å¯»æ‰¾æ æ†ï¼Œé€šè¿‡è·³æ§½æ¶¨è–ªï¼ˆæå‡åˆ†å­ï¼‰æˆ–æ¬å®¶/å›æ·±åœ³ä½ï¼ˆé™ä½åˆ†æ¯ï¼‰æ¥çªç ´ã€‚"
                    };
                } else if (r < 10.5) {
                    return {
                        title: "èˆ’é€‚ä¸­äº§çº¿ â˜•",
                        textColor: "text-blue-600",
                        quote: "ç”Ÿæ´»æœ‰å¾—æ‹£ï¼Œå‡æœŸæœ‰å¾—é£ã€‚",
                        portrait: "ğŸ“Š ç”»åƒï¼šé«˜æ—¥è–ª + ä½æˆ¿ç§Ÿç—›æ„Ÿ + é€‚åº¦WFH çš„å®Œç¾ç»„åˆã€‚",
                        advice: "âœ… å»ºè®®ï¼šæ­å–œï¼ä½ å·²ç»æ‰¾åˆ°äº†é¦™æ¸¯èŒåœºçš„ç”œèœœç‚¹ï¼ˆSweet Spotï¼‰ã€‚è¿™æ˜¯ä¸€ä¸ªå€¼å¾—é•¿æœŸå‘å±•çš„ä½ç½®ï¼Œå¥½å¥½äº«å—ç”Ÿæ´»ã€‚"
                    };
                } else {
                    return {
                        title: "ç¥ä»™å·¥ ğŸ¦„",
                        textColor: "text-purple-600",
                        quote: "ä½ æ˜¯ç³»ç»Ÿçš„æ¼æ´ï¼Œä¹Ÿæ˜¯å¥‡è¿¹ã€‚",
                        portrait: "ğŸ“Š ç”»åƒï¼šæ‹¿ç€Global Payåœ¨é¦™æ¸¯Remoteï¼Œæˆ–è€…äº«æœ‰é¡¶çº§Housing Allowanceã€‚",
                        advice: "ğŸ¤« å»ºè®®ï¼šè¯·ç„Šæ­»åœ¨è¿™ä»½å·¥ä½œä¸Šï¼ä¸è¦è®©åˆ«äººçŸ¥é“ä½ æœ‰è¿™ä»½å·¥ä½œï¼Œé—·å£°å‘å¤§è´¢ã€‚"
                    };
                }
            });

            const ratingTitle = computed(() => ratingInfo.value.title);
            const textColor = computed(() => ratingInfo.value.textColor);
            const ratingQuote = computed(() => ratingInfo.value.quote);
            const ratingPortrait = computed(() => ratingInfo.value.portrait);
            const ratingAdvice = computed(() => ratingInfo.value.advice);

            const qrImageUrl = computed(() => {
                return `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(siteUrl)}`;
            });

            const generateImage = () => {
                const element = document.getElementById('result-card');
                html2canvas(element, { 
                    scale: 3, 
                    backgroundColor: null,
                    useCORS: true 
                }).then(canvas => {
                    const link = document.createElement('a');
                    link.download = `HK_Work_Score_${finalScore.value}.png`;
                    link.href = canvas.toDataURL();
                    link.click();
                });
            };

            return {
                showWelcome,
                startTest,
                form,
                dailyPay,
                actualWorkHours,
                commuteHours,
                finalScore,
                ratingTitle,
                textColor, 
                ratingQuote,
                ratingPortrait, 
                ratingAdvice,
                qrImageUrl, 
                generateImage
            };
        }
    }).mount('#app');
</script>

</body>
</html>
